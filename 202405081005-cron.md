---
title: cron
date: 2024-05-08
tags:
- 'sysadmin'
- 'linux'
---

# cron

## References

* [ArchWiki - cron](https://wiki.archlinux.org/title/cron)
* [Crontab - Quck Reference](https://www.adminschoice.com/crontab-quick-reference)
* [crontab guru](https://crontab.guru/) - "The quick and simple editor for cron schedule expressions..."
* [Cron cheatsheet](https://devhints.io/cron)

## Monitoring cronjobs

Monitoring cronjobs with [Prometheus](202405081011-prometheus.md)...

* [Monitor cron jobs with Prometheus, Grafana and Node exporter](https://janikvonrotz.ch/2020/09/07/monitor-cron-jobs-with-prometheus-grafana-and-node-exporter/) - Example use-case that pipes cronjob status to a Bash script that then writes to a Prometheus textfile collector.

## Crontab

Print crontabs for all users:

```bash
find /var/spool/cron -type f -printf 'USER: %u \n' -exec cat {} \;
```

```bash
[root@rocky8 ~]# find /var/spool/cron -type f -printf 'USER: %u \n' -exec cat {} \;
USER: root 
* * * * * sleep 2
USER: vagrant 
* * * * * sleep 3
```

### crontab syntax

```bash
[root@rhel9-a ~]# cat /etc/crontab
SHELL=/bin/bash
PATH=/sbin:/bin:/usr/sbin:/usr/bin
MAILTO=root

# For details see man 4 crontabs

# Example of job definition:
# .---------------- minute (0 - 59)
# |  .------------- hour (0 - 23)
# |  |  .---------- day of month (1 - 31)
# |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...
# |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR sun,mon,tue,wed,thu,fri,sat
# |  |  |  |  |
# *  *  *  *  * user-name  command to be executed
```

* [crontab guru](https://crontab.guru/) - "The quick and simple editor for cron schedule expressions..."
